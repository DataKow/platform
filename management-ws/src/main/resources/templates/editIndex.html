<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Edit Index</title>
        <link rel="stylesheet" type="text/css" href="/css/indexes.css" />
        <script type='text/javascript' src="/js/jquery-3.0.0.min.js"></script>
        <script type='text/javascript' src="/js/catalog-management-api.js"></script>
        <script type='text/javascript' src="/js/indexes.js"></script>
    </head>
    <body>
        <div id="container">
            <div id="top">
                <div id="title"></div>
            </div>
            <div id="content">
                <a th:href="'/catalogs/'+${catalogName}" th:text="'Back to Catalog: '+${catalogName}"></a>
                <table id="tblIndex">
                    <tr>
                        <td>Name:</td>
                        <td><input type="text" id="txtName" /></td>
                    </tr>
                    <tr>
                        <td>Unique:</td>
                        <td><input type="checkbox" id="chkUnique" /></td>
                    </tr>
                    <tr>
                        <td>Fields:</td>
                        <td id="fieldsContainer">&nbsp;</td>
                    </tr>
                    <tr>
                        <td>Actions:</td>
                        <td>
                            <div class="action" id="btnAddField" onclick="addField()">Add Field</div>
                            <div class="action" id="btnSave" onclick="saveIndex()">Save</div>
                            <div class="action" id="btnDelete" onclick="deleteIndex()">Delete Index</div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <script th:inline="javascript">
            /*<![CDATA[*/
            $(document).ready(function(){
                var catalogName = [[${catalogName}]];
                var indexName = [[${indexName}]];
                var baseUrl = [[${baseUrl}]];
                var userName = [[${userName}]];
                var password = [[${password}]];
                catalogManager.init(baseUrl);
                fillIndex(catalogName, indexName, userName, password);
            });
            /*]]>*/
        </script>
    </body>
</html>
